webpackJsonp([19],{MMw1:function(t,a){},QrVH:function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var i={components:{headBar:e("cNyQ").a},name:"login",data:function(){return{headdata:{text:"登录"},logo:e("iQH9"),type:!0,formData:{email:"",phone:"",pwd:""}}},mounted:function(){this.initPage()},methods:{initPage:function(){this.DB.db||this.DB.init()},login:function(){var t="";this.type&&0==this.formData.email.length?t="请输入你的Email":this.type&&this.formData.email.length>0&&!/^[A-Za-z\d]+([-_.][A-Za-z\d]+)*@([A-Za-z\d]+[-.])+[A-Za-z\d]{2,4}$/.test(this.formData.email)?t="请输入正确的Email":this.type||0!=this.formData.phone.length?!this.type&&this.formData.phone.length>0&&!/^1(3|4|5|7|8)\d{9}$/.test(this.formData.phone)?t="请输入正确的手机号码":0==this.formData.pwd.length&&(t="请输入密码"):t="请输入你的手机号码",t.length>0?this.$toast(t):this.saveLog()},saveLog:function(){var t=this,a="email",e=t.formData.email;0==t.formData.email.length&&t.formData.phone.length>0&&(a="phone",e=t.formData.phone),t.DB.getItem(a,e,function(a){if(a.password&&a.password==t.formData.pwd){var e=a;e.title="login",e.status=!0,t.DB.put(e,function(a){t.$toast("登录成功"),setTimeout(function(){t.$router.push({name:"diaryIndex",path:"/"})},1500)},function(a){t.$toast("登录失败")})}else t.$toast("账号或密码错误")})},changeType:function(t){for(var a in this.type=t,this.formData)this.formData[a]=""}}},s={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"pt88"},[e("head-bar",{attrs:{head:t.headdata}}),t._v(" "),e("div",{staticClass:"heados"},[e("div",{staticClass:"login-cont"},[e("div",{staticClass:"login-logo"},[e("img",{attrs:{src:t.logo}})]),t._v(" "),e("div",{staticClass:"login-form"},[t.type?e("div",{staticClass:"form-item"},[e("div",{staticClass:"form-label"},[t._v("Email")]),t._v(" "),e("div",{staticClass:"form-input"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.formData.email,expression:"formData.email"}],attrs:{type:"text",placeholder:"请输入你的Email"},domProps:{value:t.formData.email},on:{input:function(a){a.target.composing||t.$set(t.formData,"email",a.target.value)}}})])]):e("div",{staticClass:"form-item"},[e("div",{staticClass:"form-label"},[t._v("手机号码")]),t._v(" "),e("div",{staticClass:"form-input"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.formData.phone,expression:"formData.phone"}],attrs:{type:"text",placeholder:"请输入你的手机号码"},domProps:{value:t.formData.phone},on:{input:function(a){a.target.composing||t.$set(t.formData,"phone",a.target.value)}}})])]),t._v(" "),e("div",{staticClass:"form-item"},[e("div",{staticClass:"form-label"},[t._v("密码")]),t._v(" "),e("div",{staticClass:"form-input"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.formData.pwd,expression:"formData.pwd"}],attrs:{type:"password",placeholder:"请输入密码"},domProps:{value:t.formData.pwd},on:{input:function(a){a.target.composing||t.$set(t.formData,"pwd",a.target.value)}}})])]),t._v(" "),e("div",{staticClass:"forgot"},[e("router-link",{attrs:{to:"/forgot"}},[t._v("忘记密码")])],1),t._v(" "),e("div",{staticClass:"login-btn gradient-back",on:{click:function(a){return t.login()}}},[t._v("登录")]),t._v(" "),t._m(0),t._v(" "),t.type?e("div",{staticClass:"login-btn bblue",on:{click:function(a){return t.changeType(!1)}}},[t._v("使用手机号码登录")]):e("div",{staticClass:"login-btn bblue",on:{click:function(a){return t.changeType(!0)}}},[t._v("使用Email登录")]),t._v(" "),e("div",{staticClass:"toRegister"},[t._v("\n          还没有账号？\n          "),e("router-link",{attrs:{to:{name:"register",params:{status:!0}}}},[t._v("注册")])],1)])])])],1)},staticRenderFns:[function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"login-cut"},[this._v("\n          ————\n          "),a("span",[this._v("or")]),this._v("————\n        ")])}]};var o=e("VU/8")(i,s,!1,function(t){e("MMw1")},"data-v-6d58c4d8",null);a.default=o.exports}});
//# sourceMappingURL=19.c0501020e1252dcc317e.js.map